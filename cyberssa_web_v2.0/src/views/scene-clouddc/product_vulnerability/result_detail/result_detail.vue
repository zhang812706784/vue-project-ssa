<template>
  <div class="result">
    <section class="result-detail">
      <div class="header">
        <div class="title">
          <Icon type="ios-help" color="skyblue" size="24" style="margin-right:8px"></Icon>
          <h1>
            <Icon type="help-buoy" color="skyblue" size="24" style="margin-right:8px"></Icon>
            Result: {{testData.name}}
          </h1>
        </div>
        <div class="dec">
          <p>ID: {{testData.uuid}}</p>
          <p>Created: {{testData.createTime | timeFormat}}</p>
          <p>Modified: {{testData.uuid}}</p>
          <p>Owner: {{testData.admin}}</p>
        </div>

      </div>
      <div class="content">
        <tp-table :all_params="resultDetailTableData"></tp-table>
      </div>
    </section>
    <section class="user-tags">
      <div class="header">
        <div class="title">
          <h1>
            <Icon type="help-buoy" color="skyblue" size="24" style="margin-right:8px"></Icon>
            User Tags
          </h1>
        </div>
        <div>
          <Icon type="android-add-circle" color="#11CD6E" size="24" style="margin-right:8px"></Icon>
          <Icon type="ios-help" color="skyblue" size="24" style="margin-right:8px"></Icon>
          <!-- <Icon type="android-contract" color="skyblue" size="24" style="margin-right:8px"></Icon> -->
          <Icon type="android-expand" color="red" size="24" style="margin-right:8px"></Icon>
        </div>
      </div>
    </section>
  </div>

</template>

<script>
import TpTable from '@/components/locale-components/tp-table/tp-table';
import TpSsaEcharts from '@/components/locale-components/tp-ssa-echarts/tp-ssa-echarts';
import moment from 'moment';
export default {
  name: 'target_detail',
  components: { TpSsaEcharts, TpTable },
  data() {
    return {
      testData: {
        name: 'HTTP Debugging Methods (TRACE/TRACK) Enabled'
      },
      resultDetailTableData: {}
    };
  },
  created() {
    this.resultDetailTableData = {
      id: 'result_detail_table',
      index: false,
      loading: false,
      checkBox: false,
      // url: '/ssa/java/asset/group/groupList',
      type: 'table',
      // ajaxType: 'get',
      add_btn: false,
      del_btn: false,
      modify_btn: false,
      cols: [
        {
          title: this.$t('Vulnerability')
        },
        {
          title: this.$t('Severity')
        },
        {
          title: this.$t('AoD')
        },
        {
          title: this.$t('Host')
        },
        {
          title: this.$t('Location')
        },
        {
          title: this.$t('Actions')
        }
      ]
    };
  },
  filters: {
    timeFormat: function(value) {
      return moment(value).format('YYYY-MM-DD hh:mm:ss');
    }
  },
  beforeRouteEnter(to, from, next) {
    next(vm => {
      vm.getResultDetail();
    });
  },
  methods: {
    getResultDetail() {}
  }
};
</script>

<style scoped>
@import '../common_css/common_css.css';
.result {
  /** 最外层div css 设置有问题 需要在底部补上高度**/
  color: white;
  padding: 0 8px 108px;
  box-sizing: border-box;
}
</style>
